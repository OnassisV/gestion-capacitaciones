<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Agregar Capacitación</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <script>
        function actualizarSiglas() {
            const unidadSelect = document.getElementById('unidad_organica');
            const siglasInput = document.getElementById('siglas');
            const selectedOption = unidadSelect.options[unidadSelect.selectedIndex];
            siglasInput.value = selectedOption.dataset.siglas;
        }
    </script>
</head>
<body>
    <div class="form-container">
        <h1>Agregar Capacitación</h1>
        <form method="POST">
            <label for="codigo_capacitacion">Código de Capacitación:</label>
            <input type="text" id="codigo_capacitacion" name="codigo_capacitacion" required><br>

            <label for="nombre_capacitacion">Nombre de la Capacitación:</label>
            <input type="text" id="nombre_capacitacion" name="nombre_capacitacion" required><br>

            <label for="unidad_organica">Órgano o Unidad Orgánica:</label>
            <select id="unidad_organica" name="id_unidad_organica" onchange="actualizarSiglas()">
                {% for unidad in unidades %}
                <option value="{{ unidad.id_unidad_organica }}" data-siglas="{{ unidad.siglas }}">
                    {{ unidad.nombre_unidad_organica }}
                </option>
                {% endfor %}
            </select><br>

            <label for="siglas">Siglas:</label>
            <input type="text" id="siglas" name="siglas" readonly><br>

            <button type="submit">✅ Guardar</button>
            <button type="button" onclick="location.href='{{ url_for('capacitaciones') }}'">⬅️ Volver</button>
        </form>
    </div>
</body>
</html>
